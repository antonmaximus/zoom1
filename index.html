<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="initial-scale=1">

<title>MEOW</title>
<style>

img {
    width: 100%;
}
/*img:hover {
     width: 200%;
}*/
p { font-size: 60px;}


#blue {
    border: 1px solid blue;
}
#blue:hover {
        zoom: 2;
}

body {background-color: cornflowerblue;
    border: 2px solid red;
    }

#wrapper {
    border: 2px solid yellow;
    overflow: auto;
}

</style>
</head>

<body>

<div id='wrapper' >
    <img id='targetImg' src="http://2.bp.blogspot.com/-VQJMK8PRnI0/UjYaglEkV5I/AAAAAAAAACg/N2MkW6iorr0/s1600/30192_1600x1200-4-cute-cats.jpg" />
</div>

<div id='blue'>
<p id='textbox'>hellow 11 </p>
</div>


<script src="./hammer.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>


<script type="text/javascript">

var myElement = document.getElementById('wrapper');
var thisBody = document.body;
var minWidth = jQuery(window).width();

console.log(myElement);

var hammertime = new Hammer(myElement);

hammertime.get('pinch').set({ enable: true });

hammertime.get('tap').set({ enable: false });
hammertime.get('pan').set({ enable: false });
hammertime.get('press').set({ enable: false });
hammertime.get('rotate').set({ enable: false });
hammertime.get('swipe').set({ enable: false });

// jQuery('#textbox').html(minWidth);

hammertime.on('tap', function(e) {
    var imgWidth = parseInt(getComputedStyle(myElement).width);
    console.log(imgWidth);
    console.log(e);
    jQuery('#textbox').html(myElement.style.width);
    // hammertime.style.zoom('300%');

    // console.log(e.target);
    // e.target.style.webkitTransform =
    //     'scale(' + (e.scale  + 0.5) + ')';
});


hammertime.on('pinchin', resize);
hammertime.on('pinchout', resize);

function resize (e) {
    var imgWidth = parseInt(getComputedStyle(myElement).width);
    var deltaY = e.deltaY;
    var total = imgWidth - deltaY;
    total = (total < minWidth ? minWidth : total);

    jQuery('#textbox').html(total);
    myElement.style.width = total + 'px';
    // thisBody.style.width = total + 'px';



};

// var myElement = document.getElementById('wrapper');
// var myOptions = {
//             drag_block_vertical: true,
//             drag_block_horizontal: true
//         };
// var hammertime = new Hammer(myElement);
// // hammertime.get('pinch').set({ enable: true });

// console.log('hammer 2 ');


// hammertime.on('pinch', function(ev) {
//     console.log('pinch');
//     console.log(ev);
// });

// hammertime.on('pinchin', function(ev) {
//     console.log('pinchin');
// });



//     // Pinc gesture

// var hammertime = Hammer(myElement).on("pinchin", function(event) {

//     $('#textbox').html("Pinch In");

// });



// console.log('woo ohoo');
// var app = window.parent.app;

// console.log(app);

// if (app.environment.mobile) {
//     // implement zoom icons and functionality for mobile
//     app.util.embedFile(app.util.frontend_path('js/plugins', 'hammer.min.js'), function () {
        
//         Hammer(container, {
//             drag_block_vertical: true,
//             drag_block_horizontal: true
//         })
//         .on("swipeleft", rpLib.scope(self.swipeLeft, self))
//         .on("swiperight", rpLib.scope(self.swipeRight, self));
//     });

// } else {
    
// }

</script>




</body>

</html>